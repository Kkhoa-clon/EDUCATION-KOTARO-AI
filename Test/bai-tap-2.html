<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Periodic Table API - Bảng Tuần Hoàn</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #2c3e50;
        }
        .api-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .btn {
            display: inline-block;
            padding: 8px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            margin: 5px 0;
        }
        .btn:hover {
            background: #2980b9;
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-height: 20px;
            white-space: pre-wrap;
        }
        .element {
            display: inline-block;
            width: 80px;
            height: 80px;
            margin: 5px;
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 5px;
            background-color: #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .element:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .element .symbol {
            font-size: 24px;
            font-weight: bold;
            margin: 5px 0;
        }
        .element .number {
            font-size: 12px;
            color: #666;
        }
        .element .name {
            font-size: 10px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .controls {
            margin-bottom: 15px;
        }
        input, select {
            padding: 8px;
            margin-right: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 5px;
            margin-top: 20px;
        }
        .empty-cell {
            height: 60px;
        }
        .category-key {
            display: flex;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .category-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
            margin-bottom: 5px;
        }
        .category-color {
            width: 20px;
            height: 20px;
            margin-right: 5px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Demo Periodic Table API - Bảng Tuần Hoàn</h1>
        
        <div class="category-key">
            <h3>Màu sắc theo loại nguyên tố:</h3>
            <div class="category-item">
                <div class="category-color" style="background-color: #ff9999;"></div>
                <span>Alkali metal</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #ffdead;"></div>
                <span>Alkaline earth metal</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #ffbfff;"></div>
                <span>Lanthanide</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #ff99cc;"></div>
                <span>Actinide</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #f8d568;"></div>
                <span>Transition metal</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #9bff99;"></div>
                <span>Post-transition metal</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #99ccff;"></div>
                <span>Metalloid</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #a0ffa0;"></div>
                <span>Reactive nonmetal</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #cccccc;"></div>
                <span>Noble gas</span>
            </div>
            <div class="category-item">
                <div class="category-color" style="background-color: #d9d9d9;"></div>
                <span>Unknown</span>
            </div>
        </div>

        <!-- Hiển thị toàn bộ bảng tuần hoàn -->
        <div class="api-section">
            <h2>1. Hiển thị toàn bộ bảng tuần hoàn</h2>
            <button class="btn" onclick="loadAllElements()">Tải tất cả nguyên tố</button>
            <div class="periodic-table" id="periodicTable"></div>
            <div class="result" id="allElementsResult"></div>
        </div>

        <!-- Tìm kiếm nguyên tố theo số nguyên tử -->
        <div class="api-section">
            <h2>2. Tìm kiếm nguyên tố theo số nguyên tử</h2>
            <div class="controls">
                <input type="number" id="atomicNumberInput" min="1" max="118" placeholder="Nhập số nguyên tử (1-118)">
                <button class="btn" onclick="getElementByAtomicNumber()">Tìm kiếm</button>
            </div>
            <div class="result" id="atomicNumberResult"></div>
        </div>

        <!-- Tìm kiếm nguyên tố theo ký hiệu -->
        <div class="api-section">
            <h2>3. Tìm kiếm nguyên tố theo ký hiệu</h2>
            <div class="controls">
                <input type="text" id="symbolInput" placeholder="Nhập ký hiệu (vd: H, He)">
                <button class="btn" onclick="getElementBySymbol()">Tìm kiếm</button>
            </div>
            <div class="result" id="symbolResult"></div>
        </div>

        <!-- Tìm kiếm nguyên tố theo tên -->
        <div class="api-section">
            <h2>4. Tìm kiếm nguyên tố theo tên</h2>
            <div class="controls">
                <input type="text" id="nameInput" placeholder="Nhập tên nguyên tố (vd: Hydrogen)">
                <button class="btn" onclick="getElementByName()">Tìm kiếm</button>
            </div>
            <div class="result" id="nameResult"></div>
        </div>

        <!-- Lọc nguyên tố theo loại -->
        <div class="api-section">
            <h2>5. Lọc nguyên tố theo loại</h2>
            <div class="controls">
                <select id="categorySelect">
                    <option value="">Chọn loại nguyên tố</option>
                    <option value="alkali metal">Alkali metal</option>
                    <option value="alkaline earth metal">Alkaline earth metal</option>
                    <option value="lanthanide">Lanthanide</option>
                    <option value="actinide">Actinide</option>
                    <option value="transition metal">Transition metal</option>
                    <option value="post-transition metal">Post-transition metal</option>
                    <option value="metalloid">Metalloid</option>
                    <option value="reactive nonmetal">Reactive nonmetal</option>
                    <option value="noble gas">Noble gas</option>
                    <option value="unknown">Unknown</option>
                </select>
                <button class="btn" onclick="getElementsByCategory()">Lọc</button>
            </div>
            <div class="result" id="categoryResult"></div>
        </div>

        <!-- Lọc nguyên tố theo trạng thái ở nhiệt độ phòng -->
        <div class="api-section">
            <h2>6. Lọc nguyên tố theo trạng thái ở nhiệt độ phòng</h2>
            <div class="controls">
                <select id="phaseSelect">
                    <option value="">Chọn trạng thái</option>
                    <option value="gas">Gas</option>
                    <option value="liquid">Liquid</option>
                    <option value="solid">Solid</option>
                </select>
                <button class="btn" onclick="getElementsByPhase()">Lọc</button>
            </div>
            <div class="result" id="phaseResult"></div>
        </div>

        <!-- Tìm kiếm nâng cao -->
        <div class="api-section">
            <h2>7. Tìm kiếm nâng cao</h2>
            <div class="controls">
                <input type="number" id="boilMin" placeholder="Nhiệt độ sôi tối thiểu (K)">
                <input type="number" id="boilMax" placeholder="Nhiệt độ sôi tối đa (K)">
                <button class="btn" onclick="searchByBoilingPoint()">Tìm theo nhiệt độ sôi</button>
            </div>
            <div class="controls" style="margin-top: 10px;">
                <input type="number" id="meltMin" placeholder="Nhiệt độ nóng chảy tối thiểu (K)">
                <input type="number" id="meltMax" placeholder="Nhiệt độ nóng chảy tối đa (K)">
                <button class="btn" onclick="searchByMeltingPoint()">Tìm theo nhiệt độ nóng chảy</button>
            </div>
            <div class="controls" style="margin-top: 10px;">
                <input type="number" id="densityMin" placeholder="Khối lượng riêng tối thiểu (g/cm³)">
                <input type="number" id="densityMax" placeholder="Khối lượng riêng tối đa (g/cm³)">
                <button class="btn" onclick="searchByDensity()">Tìm theo khối lượng riêng</button>
            </div>
            <div class="result" id="advancedResult"></div>
        </div>
    </div>

    <script>
        // Hàm lấy màu sắc theo loại nguyên tố
        function getCategoryColor(category) {
            const colors = {
                'alkali metal': '#ff9999',
                'alkaline earth metal': '#ffdead',
                'lanthanide': '#ffbfff',
                'actinide': '#ff99cc',
                'transition metal': '#f8d568',
                'post-transition metal': '#9bff99',
                'metalloid': '#99ccff',
                'reactive nonmetal': '#a0ffa0',
                'noble gas': '#cccccc',
                'unknown': '#d9d9d9'
            };
            return colors[category.toLowerCase()] || '#ffffff';
        }

        // Hàm hiển thị thông tin nguyên tố
        function displayElement(element, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = `
                <div style="display: flex; margin-bottom: 15px;">
                    <div style="width: 100px; height: 100px; background-color: ${getCategoryColor(element.category)}; 
                        display: flex; flex-direction: column; justify-content: center; align-items: center; 
                        border: 2px solid #333; border-radius: 5px; margin-right: 15px;">
                        <div style="font-size: 12px;">${element.number}</div>
                        <div style="font-size: 30px; font-weight: bold;">${element.symbol}</div>
                        <div style="font-size: 10px;">${element.name}</div>
                    </div>
                    <div>
                        <h3 style="margin-top: 0;">${element.name} (${element.symbol})</h3>
                        <p><strong>Số nguyên tử:</strong> ${element.number}</p>
                        <p><strong>Loại:</strong> ${element.category}</p>
                        <p><strong>Khối lượng nguyên tử:</strong> ${element.atomic_mass}</p>
                        <p><strong>Trạng thái (nhiệt độ phòng):</strong> ${element.phase}</p>
                        <p><strong>Nhiệt độ sôi:</strong> ${element.boil ? element.boil + ' K' : 'Không rõ'}</p>
                        <p><strong>Nhiệt độ nóng chảy:</strong> ${element.melt ? element.melt + ' K' : 'Không rõ'}</p>
                        <p><strong>Khối lượng riêng:</strong> ${element.density ? element.density + ' g/cm³' : 'Không rõ'}</p>
                        <p><strong>Cấu hình electron:</strong> ${element.electron_configuration}</p>
                        <p><strong>Độ âm điện:</strong> ${element.electronegativity_pauling || 'Không rõ'}</p>
                    </div>
                </div>
                <div>
                    <p><strong>Mô tả:</strong> ${element.summary}</p>
                </div>
            `;
        }

        // Hàm hiển thị nhiều nguyên tố dưới dạng danh sách
        function displayElements(elements, containerId) {
            const container = document.getElementById(containerId);
            if (!elements || elements.length === 0) {
                container.innerHTML = "Không tìm thấy nguyên tố nào phù hợp.";
                return;
            }

            let html = '<div style="display: flex; flex-wrap: wrap;">';
            elements.forEach(element => {
                html += `
                    <div style="width: 120px; margin: 5px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; 
                        background-color: ${getCategoryColor(element.category)};">
                        <div style="font-size: 12px; text-align: right;">${element.number}</div>
                        <div style="font-size: 24px; font-weight: bold; text-align: center;">${element.symbol}</div>
                        <div style="font-size: 12px; text-align: center;">${element.name}</div>
                        <div style="font-size: 10px; margin-top: 5px;">${element.category}</div>
                    </div>
                `;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        // 1. Hiển thị toàn bộ bảng tuần hoàn
        async function loadAllElements() {
            try {
                const response = await fetch('https://periodic-table-api.herokuapp.com/atomicNumber');
                const elements = await response.json();
                
                // Hiển thị bảng tuần hoàn
                const periodicTable = document.getElementById('periodicTable');
                periodicTable.innerHTML = '';
                
                // Tạo bố cục bảng tuần hoàn
                const layout = [
                    [1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 2],
                    [3, 4, null, null, null, null, null, null, null, null, null, null, 5, 6, 7, 8, 9, 10],
                    [11, 12, null, null, null, null, null, null, null, null, null, null, 13, 14, 15, 16, 17, 18],
                    [19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36],
                    [37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54],
                    [55, 56, 57, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86],
                    [87, 88, 89, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118],
                    [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
                    [null, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, null, null, null],
                    [null, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, null, null, null]
                ];
                
                layout.forEach(row => {
                    row.forEach(atomicNumber => {
                        const cell = document.createElement('div');
                        if (atomicNumber === null) {
                            cell.className = 'empty-cell';
                        } else {
                            const element = elements.find(e => e.number === atomicNumber);
                            if (element) {
                                cell.className = 'element';
                                cell.style.backgroundColor = getCategoryColor(element.category);
                                cell.innerHTML = `
                                    <div class="number">${element.number}</div>
                                    <div class="symbol">${element.symbol}</div>
                                    <div class="name">${element.name}</div>
                                `;
                                cell.onclick = () => displayElement(element, 'allElementsResult');
                            }
                        }
                        periodicTable.appendChild(cell);
                    });
                });
                
                document.getElementById('allElementsResult').innerHTML = "Đã tải thành công tất cả nguyên tố. Nhấn vào một nguyên tố để xem chi tiết.";
            } catch (error) {
                document.getElementById('allElementsResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 2. Tìm kiếm nguyên tố theo số nguyên tử
        async function getElementByAtomicNumber() {
            const atomicNumber = document.getElementById('atomicNumberInput').value;
            if (!atomicNumber || atomicNumber < 1 || atomicNumber > 118) {
                alert("Vui lòng nhập số nguyên tử từ 1 đến 118");
                return;
            }
            
            try {
                const response = await fetch(`https://periodic-table-api.herokuapp.com/atomicNumber?atomicNumber=${atomicNumber}`);
                const element = await response.json();
                displayElement(element, 'atomicNumberResult');
            } catch (error) {
                document.getElementById('atomicNumberResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 3. Tìm kiếm nguyên tố theo ký hiệu
        async function getElementBySymbol() {
            const symbol = document.getElementById('symbolInput').value.trim();
            if (!symbol) {
                alert("Vui lòng nhập ký hiệu nguyên tố");
                return;
            }
            
            try {
                const response = await fetch(`https://periodic-table-api.herokuapp.com/symbol?symbol=${symbol}`);
                const element = await response.json();
                displayElement(element, 'symbolResult');
            } catch (error) {
                document.getElementById('symbolResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 4. Tìm kiếm nguyên tố theo tên
        async function getElementByName() {
            const name = document.getElementById('nameInput').value.trim();
            if (!name) {
                alert("Vui lòng nhập tên nguyên tố");
                return;
            }
            
            try {
                const response = await fetch(`https://periodic-table-api.herokuapp.com/name?name=${name}`);
                const element = await response.json();
                displayElement(element, 'nameResult');
            } catch (error) {
                document.getElementById('nameResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 5. Lọc nguyên tố theo loại
        async function getElementsByCategory() {
            const category = document.getElementById('categorySelect').value;
            if (!category) {
                alert("Vui lòng chọn loại nguyên tố");
                return;
            }
            
            try {
                const response = await fetch('https://periodic-table-api.herokuapp.com/atomicNumber');
                const allElements = await response.json();
                const filteredElements = allElements.filter(element => 
                    element.category.toLowerCase() === category.toLowerCase()
                );
                displayElements(filteredElements, 'categoryResult');
            } catch (error) {
                document.getElementById('categoryResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 6. Lọc nguyên tố theo trạng thái ở nhiệt độ phòng
        async function getElementsByPhase() {
            const phase = document.getElementById('phaseSelect').value;
            if (!phase) {
                alert("Vui lòng chọn trạng thái");
                return;
            }
            
            try {
                const response = await fetch('https://periodic-table-api.herokuapp.com/atomicNumber');
                const allElements = await response.json();
                const filteredElements = allElements.filter(element => 
                    element.phase.toLowerCase() === phase.toLowerCase()
                );
                displayElements(filteredElements, 'phaseResult');
            } catch (error) {
                document.getElementById('phaseResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 7.1 Tìm kiếm theo nhiệt độ sôi
        async function searchByBoilingPoint() {
            const min = parseFloat(document.getElementById('boilMin').value);
            const max = parseFloat(document.getElementById('boilMax').value);
            
            if (isNaN(min) || isNaN(max)) {
                alert("Vui lòng nhập cả giá trị tối thiểu và tối đa");
                return;
            }
            
            try {
                const response = await fetch('https://periodic-table-api.herokuapp.com/atomicNumber');
                const allElements = await response.json();
                const filteredElements = allElements.filter(element => 
                    element.boil && element.boil >= min && element.boil <= max
                );
                displayElements(filteredElements, 'advancedResult');
            } catch (error) {
                document.getElementById('advancedResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 7.2 Tìm kiếm theo nhiệt độ nóng chảy
        async function searchByMeltingPoint() {
            const min = parseFloat(document.getElementById('meltMin').value);
            const max = parseFloat(document.getElementById('meltMax').value);
            
            if (isNaN(min) || isNaN(max)) {
                alert("Vui lòng nhập cả giá trị tối thiểu và tối đa");
                return;
            }
            
            try {
                const response = await fetch('https://periodic-table-api.herokuapp.com/atomicNumber');
                const allElements = await response.json();
                const filteredElements = allElements.filter(element => 
                    element.melt && element.melt >= min && element.melt <= max
                );
                displayElements(filteredElements, 'advancedResult');
            } catch (error) {
                document.getElementById('advancedResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // 7.3 Tìm kiếm theo khối lượng riêng
        async function searchByDensity() {
            const min = parseFloat(document.getElementById('densityMin').value);
            const max = parseFloat(document.getElementById('densityMax').value);
            
            if (isNaN(min) || isNaN(max)) {
                alert("Vui lòng nhập cả giá trị tối thiểu và tối đa");
                return;
            }
            
            try {
                const response = await fetch('https://periodic-table-api.herokuapp.com/atomicNumber');
                const allElements = await response.json();
                const filteredElements = allElements.filter(element => 
                    element.density && element.density >= min && element.density <= max
                );
                displayElements(filteredElements, 'advancedResult');
            } catch (error) {
                document.getElementById('advancedResult').innerHTML = "Lỗi khi tải dữ liệu: " + error.message;
            }
        }

        // Tải toàn bộ bảng tuần hoàn khi trang được tải
        window.onload = loadAllElements;
    </script>
</body>
</html>